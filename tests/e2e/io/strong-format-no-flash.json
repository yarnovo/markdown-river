{
  "name": "加粗格式无闪烁测试",
  "description": "输入 **strong** 过程中不应该出现多余的星号",
  "input": {
    "chunks": ["*", "*", "strong", "*", "*"],
    "timing": "sequential"
  },
  "expected": {
    "steps": [
      {
        "after_chunk": 0,
        "description": "输入第一个 * 后，应该被过滤掉",
        "parsed_content": "",
        "display_html": "",
        "strategy_decision": "wait",
        "reason": "单独的 * 被过滤"
      },
      {
        "after_chunk": 1,
        "description": "输入第二个 * 后，形成 **，应该被过滤掉",
        "parsed_content": "",
        "display_html": "",
        "strategy_decision": "wait",
        "reason": "单独的 ** 被过滤"
      },
      {
        "after_chunk": 2,
        "description": "输入 strong 后，应该显示加粗的 strong",
        "parsed_content": "**strong**",
        "display_html": "<p><strong>strong</strong></p>\n",
        "strategy_decision": "complete",
        "reason": "检测到 ** 后有内容，自动补全"
      },
      {
        "after_chunk": 3,
        "description": "输入第一个闭合 * 后，应该保持加粗显示",
        "parsed_content": "**strong**",
        "display_html": "<p><strong>strong</strong></p>\n",
        "strategy_decision": "complete",
        "reason": "转换器识别这是未完成的加粗，暂时忽略最后的 *"
      },
      {
        "after_chunk": 4,
        "description": "输入完整的 **strong** 后，应该保持加粗显示",
        "parsed_content": "**strong**",
        "display_html": "<p><strong>strong</strong></p>\n",
        "strategy_decision": "complete",
        "reason": "完整的加粗格式"
      }
    ],
    "final_state": {
      "total_chunks_processed": 5,
      "final_display": "<p><strong>strong</strong></p>\n",
      "strategy_calls": 5
    }
  }
}
